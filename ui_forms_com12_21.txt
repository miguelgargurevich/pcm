            ) : parseInt(formData.compromisoId) === 12 ? (
              // COMPROMISO 12: Delegado de Protección de Datos Personales
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Delegado de Protección de Datos Personales</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* DNI */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      DNI <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="dniDelegado"
                      value={formData.dniDelegado}
                      onChange={handleInputChange}
                      maxLength="8"
                      className={`input-field ${errores.dniDelegado ? 'border-red-500' : ''}`}
                      placeholder="DNI"
                      disabled={viewMode}
                    />
                    {errores.dniDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.dniDelegado}</p>
                    )}
                  </div>

                  {/* Nombres */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombres <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="nombresDelegado"
                      value={formData.nombresDelegado}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.nombresDelegado ? 'border-red-500' : ''}`}
                      placeholder="Nombres"
                      disabled={viewMode}
                    />
                    {errores.nombresDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.nombresDelegado}</p>
                    )}
                  </div>

                  {/* Apellido paterno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido paterno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoPaternoDelegado"
                      value={formData.apellidoPaternoDelegado}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoPaternoDelegado ? 'border-red-500' : ''}`}
                      placeholder="Apellido paterno"
                      disabled={viewMode}
                    />
                    {errores.apellidoPaternoDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoPaternoDelegado}</p>
                    )}
                  </div>

                  {/* Apellido materno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido materno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoMaternoDelegado"
                      value={formData.apellidoMaternoDelegado}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoMaternoDelegado ? 'border-red-500' : ''}`}
                      placeholder="Apellido materno"
                      disabled={viewMode}
                    />
                    {errores.apellidoMaternoDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoMaternoDelegado}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoDelegado"
                      value={formData.cargoDelegado}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoDelegado ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoDelegado}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoDelegado"
                      value={formData.correoDelegado}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoDelegado ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoDelegado}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoDelegado"
                      value={formData.telefonoDelegado}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoDelegado ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoDelegado && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoDelegado}</p>
                    )}
                  </div>

                  {/* Fecha de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaDesignacion"
                      value={formData.fechaDesignacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaDesignacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaDesignacion}</p>
                    )}
                  </div>

                  {/* Resolución de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Resolución de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="resolucionDesignacion"
                      value={formData.resolucionDesignacion}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.resolucionDesignacion ? 'border-red-500' : ''}`}
                      placeholder="Resolución de designación"
                      disabled={viewMode}
                    />
                    {errores.resolucionDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.resolucionDesignacion}</p>
                    )}
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 13 ? (
              // COMPROMISO 13: Integración a Plataforma de Interoperabilidad del Estado (PIDE)
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Integración a Plataforma de Interoperabilidad del Estado (PIDE)</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Tipo de integración */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Tipo de integración <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="tipoIntegracion"
                      value={formData.tipoIntegracion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.tipoIntegracion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="Proveedor">Proveedor</option>
                        <option value="Consumidor">Consumidor</option>
                        <option value="Ambos">Ambos</option>
                    </select>
                    {errores.tipoIntegracion && (
                      <p className="text-red-500 text-xs mt-1">{errores.tipoIntegracion}</p>
                    )}
                  </div>

                  {/* Nombre del servicio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del servicio <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="nombreServicio"
                      value={formData.nombreServicio}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.nombreServicio ? 'border-red-500' : ''}`}
                      placeholder="Nombre del servicio"
                      disabled={viewMode}
                    />
                    {errores.nombreServicio && (
                      <p className="text-red-500 text-xs mt-1">{errores.nombreServicio}</p>
                    )}
                  </div>

                  {/* Descripción del servicio */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Descripción del servicio 
                    </label>
                    <textarea
                      name="descripcionServicio"
                      value={formData.descripcionServicio}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Descripción del servicio..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.descripcionServicio?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Fecha de inicio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de inicio <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaInicioIntegracion"
                      value={formData.fechaInicioIntegracion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaInicioIntegracion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaInicioIntegracion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaInicioIntegracion}</p>
                    )}
                  </div>

                  {/* URL del servicio */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      URL del servicio 
                    </label>
                    <input
                      type="url"
                      name="urlServicio"
                      value={formData.urlServicio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.urlServicio ? 'border-red-500' : ''}`}
                      placeholder="https://..."
                      disabled={viewMode}
                    />
                    {errores.urlServicio && (
                      <p className="text-red-500 text-xs mt-1">{errores.urlServicio}</p>
                    )}
                  </div>


                  {/* Separador */}
                  <div className="md:col-span-2 border-t border-gray-200 my-2">
                    <h3 className="text-sm font-medium text-gray-700 mt-4 mb-3">Responsable Técnico</h3>
                  </div>

                  {/* Nombre del responsable técnico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable técnico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableTecnico"
                      value={formData.responsableTecnico}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableTecnico ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable técnico"
                      disabled={viewMode}
                    />
                    {errores.responsableTecnico && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableTecnico}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>


                  {/* Separador */}
                  <div className="md:col-span-2 border-t border-gray-200 my-2">
                    <h3 className="text-sm font-medium text-gray-700 mt-4 mb-3">Información del Convenio</h3>
                  </div>

                  {/* Convenio marco */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Convenio marco <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="convenioMarco"
                      value={formData.convenioMarco}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.convenioMarco ? 'border-red-500' : ''}`}
                      placeholder="Convenio marco"
                      disabled={viewMode}
                    />
                    {errores.convenioMarco && (
                      <p className="text-red-500 text-xs mt-1">{errores.convenioMarco}</p>
                    )}
                  </div>

                  {/* Fecha del convenio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha del convenio 
                    </label>
                    <input
                      type="date"
                      name="fechaConvenio"
                      value={formData.fechaConvenio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaConvenio ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaConvenio && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaConvenio}</p>
                    )}
                  </div>

                  {/* ¿Servicio activo? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="servicioActivo"
                        checked={formData.servicioActivo || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Servicio activo?
                    </label>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 14 ? (
              // COMPROMISO 14: Oficial de Seguridad de la Información
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Oficial de Seguridad de la Información</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* DNI */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      DNI <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="dniOficial"
                      value={formData.dniOficial}
                      onChange={handleInputChange}
                      maxLength="8"
                      className={`input-field ${errores.dniOficial ? 'border-red-500' : ''}`}
                      placeholder="DNI"
                      disabled={viewMode}
                    />
                    {errores.dniOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.dniOficial}</p>
                    )}
                  </div>

                  {/* Nombres */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombres <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="nombresOficial"
                      value={formData.nombresOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.nombresOficial ? 'border-red-500' : ''}`}
                      placeholder="Nombres"
                      disabled={viewMode}
                    />
                    {errores.nombresOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.nombresOficial}</p>
                    )}
                  </div>

                  {/* Apellido paterno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido paterno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoPaternoOficial"
                      value={formData.apellidoPaternoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoPaternoOficial ? 'border-red-500' : ''}`}
                      placeholder="Apellido paterno"
                      disabled={viewMode}
                    />
                    {errores.apellidoPaternoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoPaternoOficial}</p>
                    )}
                  </div>

                  {/* Apellido materno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido materno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoMaternoOficial"
                      value={formData.apellidoMaternoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoMaternoOficial ? 'border-red-500' : ''}`}
                      placeholder="Apellido materno"
                      disabled={viewMode}
                    />
                    {errores.apellidoMaternoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoMaternoOficial}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoOficial"
                      value={formData.cargoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoOficial ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoOficial}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoOficial"
                      value={formData.correoOficial}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoOficial ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoOficial}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoOficial"
                      value={formData.telefonoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoOficial ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoOficial}</p>
                    )}
                  </div>

                  {/* Fecha de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaDesignacion"
                      value={formData.fechaDesignacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaDesignacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaDesignacion}</p>
                    )}
                  </div>

                  {/* Resolución de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Resolución de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="resolucionDesignacion"
                      value={formData.resolucionDesignacion}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.resolucionDesignacion ? 'border-red-500' : ''}`}
                      placeholder="Resolución de designación"
                      disabled={viewMode}
                    />
                    {errores.resolucionDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.resolucionDesignacion}</p>
                    )}
                  </div>

                  {/* ¿Comunicada a la PCM? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="comunicadaPcm"
                        checked={formData.comunicadaPcm || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Comunicada a la PCM?
                    </label>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 15 ? (
              // COMPROMISO 15: CSIRT Institucional
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: CSIRT Institucional</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Nombre del CSIRT */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del CSIRT <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="nombreCsirt"
                      value={formData.nombreCsirt}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.nombreCsirt ? 'border-red-500' : ''}`}
                      placeholder="Nombre del CSIRT"
                      disabled={viewMode}
                    />
                    {errores.nombreCsirt && (
                      <p className="text-red-500 text-xs mt-1">{errores.nombreCsirt}</p>
                    )}
                  </div>

                  {/* Fecha de conformación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de conformación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaConformacion"
                      value={formData.fechaConformacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaConformacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaConformacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaConformacion}</p>
                    )}
                  </div>

                  {/* Resolución de conformación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Resolución de conformación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="resolucionConformacion"
                      value={formData.resolucionConformacion}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.resolucionConformacion ? 'border-red-500' : ''}`}
                      placeholder="Resolución de conformación"
                      disabled={viewMode}
                    />
                    {errores.resolucionConformacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.resolucionConformacion}</p>
                    )}
                  </div>


                  {/* Separador */}
                  <div className="md:col-span-2 border-t border-gray-200 my-2">
                    <h3 className="text-sm font-medium text-gray-700 mt-4 mb-3">Responsable del CSIRT</h3>
                  </div>

                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableCsirt"
                      value={formData.responsableCsirt}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableCsirt ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsableCsirt && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableCsirt}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* ¿Cuenta con protocolo de gestión de incidentes? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="protocoloGestionIncidentes"
                        checked={formData.protocoloGestionIncidentes || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Cuenta con protocolo de gestión de incidentes?
                    </label>
                  </div>

                  {/* ¿Comunicada a la PCM? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="comunicadaPcm"
                        checked={formData.comunicadaPcm || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Comunicada a la PCM?
                    </label>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 16 ? (
              // COMPROMISO 16: Sistema de Gestión de Seguridad de la Información (SGSI)
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Sistema de Gestión de Seguridad de la Información (SGSI)</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableSgsi"
                      value={formData.responsableSgsi}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableSgsi ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsableSgsi && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableSgsi}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* Estado de implementación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Estado de implementación <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="estadoImplementacion"
                      value={formData.estadoImplementacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.estadoImplementacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="En planificación">En planificación</option>
                        <option value="En implementación">En implementación</option>
                        <option value="Implementado">Implementado</option>
                        <option value="Certificado">Certificado</option>
                    </select>
                    {errores.estadoImplementacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.estadoImplementacion}</p>
                    )}
                  </div>

                  {/* Versión de la norma ISO */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Versión de la norma ISO <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="versionNorma"
                      value={formData.versionNorma}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.versionNorma ? 'border-red-500' : ''}`}
                      placeholder="Versión de la norma ISO"
                      disabled={viewMode}
                    />
                    {errores.versionNorma && (
                      <p className="text-red-500 text-xs mt-1">{errores.versionNorma}</p>
                    )}
                  </div>

                  {/* Alcance del SGSI */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Alcance del SGSI 
                    </label>
                    <textarea
                      name="alcanceSgsi"
                      value={formData.alcanceSgsi}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Alcance del SGSI..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.alcanceSgsi?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Fecha de inicio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de inicio <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaInicio"
                      value={formData.fechaInicio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaInicio ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaInicio && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaInicio}</p>
                    )}
                  </div>


                  {/* Separador */}
                  <div className="md:col-span-2 border-t border-gray-200 my-2">
                    <h3 className="text-sm font-medium text-gray-700 mt-4 mb-3">Certificación</h3>
                  </div>

                  {/* ¿Certificación obtenida? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="certificacionObtenida"
                        checked={formData.certificacionObtenida || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Certificación obtenida?
                    </label>
                  </div>

                  {/* Entidad certificadora */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Entidad certificadora 
                    </label>
                    <input
                      type="text"
                      name="entidadCertificadora"
                      value={formData.entidadCertificadora}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.entidadCertificadora ? 'border-red-500' : ''}`}
                      placeholder="Entidad certificadora"
                      disabled={viewMode}
                    />
                    {errores.entidadCertificadora && (
                      <p className="text-red-500 text-xs mt-1">{errores.entidadCertificadora}</p>
                    )}
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 17 ? (
              // COMPROMISO 17: Plan de Continuidad Operativa
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Plan de Continuidad Operativa</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsablePlan"
                      value={formData.responsablePlan}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsablePlan ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsablePlan && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsablePlan}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* Estado del plan */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Estado del plan <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="estadoPlan"
                      value={formData.estadoPlan}
                      onChange={handleInputChange}
                      className={`input-field ${errores.estadoPlan ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="En formulación">En formulación</option>
                        <option value="Formulado">Formulado</option>
                        <option value="Aprobado">Aprobado</option>
                        <option value="En implementación">En implementación</option>
                        <option value="Implementado">Implementado</option>
                    </select>
                    {errores.estadoPlan && (
                      <p className="text-red-500 text-xs mt-1">{errores.estadoPlan}</p>
                    )}
                  </div>

                  {/* Fecha de formulación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de formulación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaFormulacion"
                      value={formData.fechaFormulacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaFormulacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaFormulacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaFormulacion}</p>
                    )}
                  </div>

                  {/* Fecha de aprobación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de aprobación 
                    </label>
                    <input
                      type="date"
                      name="fechaAprobacion"
                      value={formData.fechaAprobacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaAprobacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaAprobacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaAprobacion}</p>
                    )}
                  </div>

                  {/* Fecha de inicio de implementación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de inicio de implementación 
                    </label>
                    <input
                      type="date"
                      name="fechaInicio"
                      value={formData.fechaInicio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaInicio ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaInicio && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaInicio}</p>
                    )}
                  </div>

                  {/* Fecha de fin prevista */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de fin prevista 
                    </label>
                    <input
                      type="date"
                      name="fechaFin"
                      value={formData.fechaFin}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaFin ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaFin && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaFin}</p>
                    )}
                  </div>

                  {/* Descripción del plan */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Descripción del plan 
                    </label>
                    <textarea
                      name="descripcionPlan"
                      value={formData.descripcionPlan}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Descripción del plan..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.descripcionPlan?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 18 ? (
              // COMPROMISO 18: Acceso al Portal de Transparencia Estándar (PTE)
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Acceso al Portal de Transparencia Estándar (PTE)</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableAcceso"
                      value={formData.responsableAcceso}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableAcceso ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsableAcceso && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableAcceso}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* Número de oficio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Número de oficio <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="numeroOficio"
                      value={formData.numeroOficio}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.numeroOficio ? 'border-red-500' : ''}`}
                      placeholder="Número de oficio"
                      disabled={viewMode}
                    />
                    {errores.numeroOficio && (
                      <p className="text-red-500 text-xs mt-1">{errores.numeroOficio}</p>
                    )}
                  </div>

                  {/* Fecha de solicitud */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de solicitud <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaSolicitud"
                      value={formData.fechaSolicitud}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaSolicitud ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaSolicitud && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaSolicitud}</p>
                    )}
                  </div>

                  {/* Fecha de concesión */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de concesión 
                    </label>
                    <input
                      type="date"
                      name="fechaConcesion"
                      value={formData.fechaConcesion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaConcesion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaConcesion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaConcesion}</p>
                    )}
                  </div>

                  {/* Estado del acceso */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Estado del acceso <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="estadoAcceso"
                      value={formData.estadoAcceso}
                      onChange={handleInputChange}
                      className={`input-field ${errores.estadoAcceso ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="Solicitado">Solicitado</option>
                        <option value="En proceso">En proceso</option>
                        <option value="Concedido">Concedido</option>
                        <option value="Denegado">Denegado</option>
                    </select>
                    {errores.estadoAcceso && (
                      <p className="text-red-500 text-xs mt-1">{errores.estadoAcceso}</p>
                    )}
                  </div>

                  {/* Enlace al portal */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Enlace al portal 
                    </label>
                    <input
                      type="url"
                      name="enlacePortal"
                      value={formData.enlacePortal}
                      onChange={handleInputChange}
                      className={`input-field ${errores.enlacePortal ? 'border-red-500' : ''}`}
                      placeholder="https://..."
                      disabled={viewMode}
                    />
                    {errores.enlacePortal && (
                      <p className="text-red-500 text-xs mt-1">{errores.enlacePortal}</p>
                    )}
                  </div>

                  {/* Descripción */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Descripción 
                    </label>
                    <textarea
                      name="descripcion"
                      value={formData.descripcion}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Descripción..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.descripcion?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 19 ? (
              // COMPROMISO 19: Encuesta Nacional de Gobierno Digital
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Encuesta Nacional de Gobierno Digital</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Año de la encuesta */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Año de la encuesta <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="number"
                      name="anioEncuesta"
                      value={formData.anioEncuesta}
                      onChange={handleInputChange}
                      min="0"
                      className={`input-field ${errores.anioEncuesta ? 'border-red-500' : ''}`}
                      placeholder="0"
                      disabled={viewMode}
                    />
                    {errores.anioEncuesta && (
                      <p className="text-red-500 text-xs mt-1">{errores.anioEncuesta}</p>
                    )}
                  </div>

                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableEncuesta"
                      value={formData.responsableEncuesta}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableEncuesta ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsableEncuesta && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableEncuesta}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* Fecha de envío */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de envío <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaEnvio"
                      value={formData.fechaEnvio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaEnvio ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaEnvio && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaEnvio}</p>
                    )}
                  </div>

                  {/* Estado de la encuesta */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Estado de la encuesta <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="estadoEncuesta"
                      value={formData.estadoEncuesta}
                      onChange={handleInputChange}
                      className={`input-field ${errores.estadoEncuesta ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="No iniciada">No iniciada</option>
                        <option value="En proceso">En proceso</option>
                        <option value="Completada">Completada</option>
                        <option value="Enviada">Enviada</option>
                    </select>
                    {errores.estadoEncuesta && (
                      <p className="text-red-500 text-xs mt-1">{errores.estadoEncuesta}</p>
                    )}
                  </div>

                  {/* Enlace a la encuesta */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Enlace a la encuesta 
                    </label>
                    <input
                      type="url"
                      name="enlaceEncuesta"
                      value={formData.enlaceEncuesta}
                      onChange={handleInputChange}
                      className={`input-field ${errores.enlaceEncuesta ? 'border-red-500' : ''}`}
                      placeholder="https://..."
                      disabled={viewMode}
                    />
                    {errores.enlaceEncuesta && (
                      <p className="text-red-500 text-xs mt-1">{errores.enlaceEncuesta}</p>
                    )}
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 20 ? (
              // COMPROMISO 20: Digitalización de Servicios y Trámites
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Digitalización de Servicios y Trámites</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* Nombre del responsable */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombre del responsable <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="responsableDigitalizacion"
                      value={formData.responsableDigitalizacion}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.responsableDigitalizacion ? 'border-red-500' : ''}`}
                      placeholder="Nombre del responsable"
                      disabled={viewMode}
                    />
                    {errores.responsableDigitalizacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.responsableDigitalizacion}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoResponsable"
                      value={formData.cargoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoResponsable}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoResponsable"
                      value={formData.correoResponsable}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoResponsable}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoResponsable"
                      value={formData.telefonoResponsable}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoResponsable ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoResponsable && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoResponsable}</p>
                    )}
                  </div>

                  {/* Estado de implementación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Estado de implementación <span className="text-red-500">*</span>
                    </label>
                    <select
                      name="estadoImplementacion"
                      value={formData.estadoImplementacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.estadoImplementacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    >
                      <option value="">Seleccione...</option>
                        <option value="No iniciado">No iniciado</option>
                        <option value="En planificación">En planificación</option>
                        <option value="En implementación">En implementación</option>
                        <option value="Implementado">Implementado</option>
                    </select>
                    {errores.estadoImplementacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.estadoImplementacion}</p>
                    )}
                  </div>

                  {/* Fecha de inicio */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de inicio <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaInicio"
                      value={formData.fechaInicio}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaInicio ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaInicio && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaInicio}</p>
                    )}
                  </div>

                  {/* Último avance reportado */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Último avance reportado 
                    </label>
                    <input
                      type="date"
                      name="ultimoAvance"
                      value={formData.ultimoAvance}
                      onChange={handleInputChange}
                      className={`input-field ${errores.ultimoAvance ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.ultimoAvance && (
                      <p className="text-red-500 text-xs mt-1">{errores.ultimoAvance}</p>
                    )}
                  </div>

                  {/* Total de servicios digitalizados */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Total de servicios digitalizados 
                    </label>
                    <input
                      type="number"
                      name="totalServicios"
                      value={formData.totalServicios}
                      onChange={handleInputChange}
                      min="0"
                      className={`input-field ${errores.totalServicios ? 'border-red-500' : ''}`}
                      placeholder="0"
                      disabled={viewMode}
                    />
                    {errores.totalServicios && (
                      <p className="text-red-500 text-xs mt-1">{errores.totalServicios}</p>
                    )}
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>
            ) : parseInt(formData.compromisoId) === 21 ? (
              // COMPROMISO 21: Oficial de Gobierno de Datos (OGD)
              <>
                <h2 className="text-base font-semibold text-gray-800 mb-3">Paso 1: Oficial de Gobierno de Datos (OGD)</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {/* DNI */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      DNI <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="dniOficial"
                      value={formData.dniOficial}
                      onChange={handleInputChange}
                      maxLength="8"
                      className={`input-field ${errores.dniOficial ? 'border-red-500' : ''}`}
                      placeholder="DNI"
                      disabled={viewMode}
                    />
                    {errores.dniOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.dniOficial}</p>
                    )}
                  </div>

                  {/* Nombres */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Nombres <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="nombresOficial"
                      value={formData.nombresOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.nombresOficial ? 'border-red-500' : ''}`}
                      placeholder="Nombres"
                      disabled={viewMode}
                    />
                    {errores.nombresOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.nombresOficial}</p>
                    )}
                  </div>

                  {/* Apellido paterno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido paterno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoPaternoOficial"
                      value={formData.apellidoPaternoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoPaternoOficial ? 'border-red-500' : ''}`}
                      placeholder="Apellido paterno"
                      disabled={viewMode}
                    />
                    {errores.apellidoPaternoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoPaternoOficial}</p>
                    )}
                  </div>

                  {/* Apellido materno */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Apellido materno <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="apellidoMaternoOficial"
                      value={formData.apellidoMaternoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.apellidoMaternoOficial ? 'border-red-500' : ''}`}
                      placeholder="Apellido materno"
                      disabled={viewMode}
                    />
                    {errores.apellidoMaternoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.apellidoMaternoOficial}</p>
                    )}
                  </div>

                  {/* Cargo */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Cargo <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="cargoOficial"
                      value={formData.cargoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.cargoOficial ? 'border-red-500' : ''}`}
                      placeholder="Cargo"
                      disabled={viewMode}
                    />
                    {errores.cargoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.cargoOficial}</p>
                    )}
                  </div>

                  {/* Correo electrónico */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Correo electrónico <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="email"
                      name="correoOficial"
                      value={formData.correoOficial}
                      onChange={handleInputChange}
                      className={`input-field ${errores.correoOficial ? 'border-red-500' : ''}`}
                      placeholder="Correo electrónico"
                      disabled={viewMode}
                    />
                    {errores.correoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.correoOficial}</p>
                    )}
                  </div>

                  {/* Teléfono */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono 
                    </label>
                    <input
                      type="text"
                      name="telefonoOficial"
                      value={formData.telefonoOficial}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.telefonoOficial ? 'border-red-500' : ''}`}
                      placeholder="Teléfono"
                      disabled={viewMode}
                    />
                    {errores.telefonoOficial && (
                      <p className="text-red-500 text-xs mt-1">{errores.telefonoOficial}</p>
                    )}
                  </div>

                  {/* Fecha de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Fecha de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="fechaDesignacion"
                      value={formData.fechaDesignacion}
                      onChange={handleInputChange}
                      className={`input-field ${errores.fechaDesignacion ? 'border-red-500' : ''}`}
                      disabled={viewMode}
                    />
                    {errores.fechaDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.fechaDesignacion}</p>
                    )}
                  </div>

                  {/* Resolución de designación */}
                  <div className="">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Resolución de designación <span className="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="resolucionDesignacion"
                      value={formData.resolucionDesignacion}
                      onChange={handleInputChange}
                      
                      className={`input-field ${errores.resolucionDesignacion ? 'border-red-500' : ''}`}
                      placeholder="Resolución de designación"
                      disabled={viewMode}
                    />
                    {errores.resolucionDesignacion && (
                      <p className="text-red-500 text-xs mt-1">{errores.resolucionDesignacion}</p>
                    )}
                  </div>

                  {/* ¿Comunicada a la SGTD? */}
                  <div className="">
                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                      <input
                        type="checkbox"
                        name="comunicadaSgtd"
                        checked={formData.comunicadaSgtd || false}
                        onChange={handleInputChange}
                        className="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"
                        disabled={viewMode}
                      />
                      ¿Comunicada a la SGTD?
                    </label>
                  </div>

                  {/* Observaciones */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Observaciones 
                    </label>
                    <textarea
                      name="observaciones"
                      value={formData.observaciones}
                      onChange={handleInputChange}
                      maxLength="1000"
                      rows="3"
                      className="input-field"
                      placeholder="Observaciones..."
                      disabled={viewMode}
                    />
                    <p className="text-xs text-gray-500 mt-1">
                      {formData.observaciones?.length || 0} / 1000 caracteres
                    </p>
                  </div>

                  {/* Documento de evidencia (PDF) */}
                  <div className="md:col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Documento de evidencia (PDF)
                    </label>
                    <div className="flex items-center gap-3">
                      <label className="flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors">
                        <Upload className="w-5 h-5 mr-2 text-gray-400" />
                        <span className="text-sm text-gray-600">
                          {formData.documentoFile ? formData.documentoFile.name : 'Seleccionar archivo'}
                        </span>
                        <input
                          type="file"
                          accept=".pdf"
                          onChange={handleFileChange}
                          className="hidden"
                          disabled={viewMode}
                        />
                      </label>
                      {pdfUrl && (
                        <button
                          type="button"
                          onClick={() => {
                            setDocumentoActualUrl(pdfUrl);
                            setShowPdfViewer(true);
                          }}
                          className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2"
                        >
                          <Eye className="w-4 h-4" />
                          Ver PDF
                        </button>
                      )}
                    </div>
                    <p className="text-xs text-gray-500 mt-1">
                      Suba el documento de evidencia en formato PDF (máximo 10 MB)
                    </p>
                  </div>
                </div>
              </>